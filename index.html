<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/simple.css" />
    <link rel="stylesheet" href="assets/hljs-default.css" />
    <title>Document</title>
    <script src="script.js" defer></script>
  </head>
  <body>
    <header>
      <h2>Kurzanleitung für Javascript - Session Storage</h2>
    </header>
    <main>
      <h3>Wozu braucht es diese WEB-API</h3>
      <p>
        Diese API ermöglich es Daten innerhalb einer
        <strong>"Sitzung"</strong> zu engl. <strong>"Session"</strong> im
        Browser zu speichern. Diese API wird durch die Lebensdauer, dem
        Speicherort und der Speicherkapazität definiert. Sie ist Teil der Web
        Storage API. <br />
        <br />
        <strong>Speicherort</strong><br />
        Direkte Speicherung im Browser. <br />
        <strong>Lebensdauer</strong><br />
        Die gespeicherten Daten bleiben erhalten, solange die
        Browser-Tab-Session aktiv ist. Sie werden gelöscht, sobald der Tab oder
        der Browser geschlossen wird.<br />
        <strong>Speicherkapazität</strong><br />
        Je nach Browser stehen zwischen 5 und 10 MB zu verfügung.
        <li>Google Chrome: Ca. 10 MB</li>
        <li>Mozilla Firefox: Ca. 10 MB</li>
        <li>Apple Safari: Ca. 5 MB</li>
        <br />
        <strong>Pro Tab isoliert</strong><br />
        Jeder Tab hat seinen eigenen isolierten Speicherbereich, sodass Sessions
        verschiedener Tabs einander nicht beeinflussen.
        <br />
      </p>

      <br />
      <h3>Auswirkung auf das Nutzerverhalten</h3>
      <strong>Leistung</strong>
      <li>Reduzierte Ladezeiten</li>
      <li>Erhöhte Anwendungsleistung</li>
      <br />

      <strong>Sicherheit</strong>
      <li>Minimiert Potenzial von Cross-Site-Scripting</li>
      <li>Daten können nur von Seiten gleicher Henkunft gelesen & geladen werden</li>
      <br />

      <strong>Benutzerfreundlichkeit</strong>
      <li>Erhöhte Absicherung & Komfort</li>
      <li>Sicherung von Benutzerdefinierten Daten</li>
      <br />

      <h3>Unterscheidung zum Cookie</h3>

      <strong>Lebensdauer</strong><br />
      Das Cookie bleibt erhalten, auch nach dem Schließen eines Tabs oder dem
      Browser. Hier von ausgenommen: Das Session-Cookie.<br />

      <strong>Speicherkapazität</strong><br />
      Session-Storage (5-10 MB) <strong>></strong> Cookie (4KB)<br />

      <strong>Zugriff</strong><br />
      Das Cookie kann über verschiedene Tabs hinweg aggieren. Das Session
      Storage nur innerhalb des aktuelle Tabs.<br />

      <strong>Serverkommunikation</strong><br />
      Cookie: Server-Client-Anfrage <br />
      Session-Storage: Clientseitig<br />

      <h3>Grundlegende Operationen</h3>
      <strong>Speichern von Daten</strong><br />
      Um Daten im Session Storage zu speichern, verwendet man die setItem(key,
      value) Methode. Der key ist dabei der Bezeichner für den zu speichernden
      Wert.<br />

      sessionStorage.setItem('meinSchluessel', 'meinWert');<br />
      <strong>Abrufen von Daten</strong><br />
      Daten werden mit der getItem(key) Methode abgerufen. Gibt den Wert zurück,
      der dem angegebenen Schlüssel zugeordnet ist.<br />

      let meinWert = sessionStorage.getItem('meinSchluessel');
      console.log(meinWert); // Gibt 'meinWert' aus <br />
      <strong>Löschen von Daten</strong><br />
      Einzelne Daten können mit removeItem(key) entfernt werden, während clear()
      alle Daten im Session Storage des Benutzers für die aktuelle Domain
      löscht.<br />

      sessionStorage.removeItem('meinSchluessel'); // Löscht den spezifischen
      Eintrag sessionStorage.clear(); // Löscht alle Einträge im Session
      Storage<br />

      <h3>Verwendungsszenarien</h3>
      <strong>Formulardaten speichern:</strong> Zwischenspeichern von
      Benutzereingaben, falls die Seite neu geladen wird.<br />
      <strong>Benutzerpräferenzen:</strong> Speichern von vorübergehenden
      Einstellungen wie Spracheinstellungen oder Themenauswahl.<br />
      <strong
        >Zwischenspeichern von Daten für Single Page Applications
        (SPAs):</strong
      >
      Temporäres Speichern von Daten, während der Benutzer die Anwendung
      nutzt.<br />
      <kbd>sollicitudin</kbd> <mark>Vivamus facilisis mi</mark>
      <h3>Codebeispiele</h3>
      <input id="sessionColor" type="color" value="" />
      <button id="beispiel1">Farbe in sessionStorrage speichern</button>
      <pre><code class="language-js"> 
const beispiel1 = document.querySelector("#beispiel1");
beispiel1.addEventListener("click", executeExample);

// Prüfen ob sessionStorage.color existiert
if ("color" in sessionStorage) {
  document.querySelector("#sessionColor").value = sessionStorage.color;
}

// sessionStorage speichern
function executeExample() {
  sessionStorage.setItem(
    "color",
    document.querySelector("#sessionColor").value
  );
}


      // speichern in sessionStorage
      sessionStorage.setItem("key", "value");

      // aufrufen aus sessionStorage
      let data = sessionStorage.getItem("key");

      // löschen aus sessionStorage
      sessionStorage.removeItem("key");

      // alles in sessionStorage löschen
      sessionStorage.clear();        
      </code></pre>
      <h3>Weiterführende Links:</h3>
      <ul>
        <li>
          MDN Web Docs:
          <a
            href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage"
            >Session Storage auf MDN</a
          >
        </li>
        <li>
          W3Schools:
          <a href="https://www.w3schools.com/jsref/prop_win_sessionstorage.asp"
            >W3Schools Web Storage Tutorial</a
          >
        </li>
        <li>
          Wiki:
          <a href="https://wiki.selfhtml.org/wiki/JavaScript/Web_Storage"
            >Selfhtml Wiki</a
          >
        </li>
      </ul>
    </main>
    <footer>von Paul Klemm, Marius Wagner, Lea Frank - WT2</footer>
    <!--Neccesary for code highlighting below - just dont touch it-->
    <script src="/assets/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
